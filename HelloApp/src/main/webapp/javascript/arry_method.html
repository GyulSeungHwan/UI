<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>arrayMethod.html</title>
  <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
  <script src="memberList.js"></script>
  <script>
    // <div id="show"></div>
    // 회원아이디/이름/급여/누적급여
  </script>
  <script>
    console.log(data);

    // 배열메소드: forEach(item, idx, ary)
    // salary 4000 넘고 Female인 사람들의 급여합계
    let sum = 0;
    let cnt = 0;
    let avg = 0;
    let result = data.forEach(function (item, idx, ary) {
      // console.log(item)
      if (item.salary > 3500 && item.gender == 'Female') {
        // console.log(item);
        sum += item.salary;
        cnt++;
      }
    });
    // console.log('합계: ' + sum + ', 평균: ' + (sum / cnt));
    // console.log(result);

    // map() => 배열의 갯수만큼 새로운 형태의 값을 반환
    // A -> A'
    result = data.map(function (item) {
      let male = {}
      male.id = item.id;
      male.name = item.first_name + '-' + item.last_name

      return male;
    });
    // console.clear();
    // console.log(result);

    // filter() => 조건을 만족하는 새로운 배열
    result = data.filter(function (item) {
      return item.gender == "Male";
    });
    // console.clear();
    // console.log(result);

    // reduce() => 반환값이 배열, number, 문자...
    sum = 0;
    result = data.reduce(function (acc, val, idx, ary) {
      return acc += val.salary;
      // if (c < 5)
      //   console.log(a, b, c, d);
    }, sum); // reduce의 초기값으로 위에 선언한 0을 쓰겠다는 의미
    console.log(result);

    // splice()
    data = [];
    data.push({id:data.length + 1, name:'Apple'});
    data.push({id:data.length + 1, name:'Banana'});
    data.unshift({id:data.length + 1, name:'Cherry'});
    data.splice(1, 0, {id:data.length + 1, name:'Melon'});
    // 2번째 자리에 데이터 끼워넣기
    // data.pop(); // 마지막 데이터를 삭제
    // data.shift(); // 첫 데이터를 삭제
    // data.splice(2, 1); // 3번째 자리부터 1개를 삭제
    console.log(data);

    // Array.some()
    result = data.some(function (item) {
      return item.name == 'Banana';
    })

    result = data.every(function (item) {
      return item.name.length >= 6; // item의 name의 길이가 6개 이상인지
    }) // 전체의 값이 만족하면 true, 만족하지못하면 false
    console.log(result);

    // from()
    result = Array.from('abcde'); // 배열 만들기
    console.log(result);

    result = "a, b, c, d, e".split(',').reverse(); // 배열 만들기
    console.log(result);

    // sort()
    data = ['banana', 'cherry', 'apple']
    result = data.sort(); // 정렬
    console.log(result);
    
    document.addEventListener('DOMContentLoaded', function () {
      
      let easyAry = ['one', 'two', 'three']
      result = easyAry.reduce(function (acc, val, idx) {
        // console.log(acc, val);
        // acc.push(val.toUpperCase());
        acc += '<tr><td>'+ ++idx + '</td><td>' + val + '</td></tr>';
        // let p = document.createElement('p');
        // p.innerText = val;
        // acc.append(p);

        return acc;
      }, "<table border='1'>");
        
        result += "</table>";
        
        console.log(result); // <table>.....</table>
        document.getElementById('show').innerHTML = result;

      // 출력대상: gender == Female
      // 출력항목: id / name / gender / salary
      result = data.reduce(function (acc, val, idx) {

        acc += '<tr><td>'+ ++idx + '</td><td>' + val + '</td></tr>';
        return acc;
      }, $('<table />'));

      $('#show').append(result);

    })
  </script>
</head>

<body>
  <div id="show">
    <!-- <table border="1">
      <tr>
        <td>1</td>
        <td>홍길동</td>
        <td>3500</td>
        <td>3500</td>
      </tr>
      <tr>
        <td>2</td>
        <td>김길동</td>
        <td>2800</td>
        <td>6300</td>
      </tr>
      <tr>
        <td>3</td>
        <td>박길동</td>
        <td>4000</td>
        <td>10300</td>
      </tr>
      </tr>
    </table> -->
  </div>
</body>

</html>